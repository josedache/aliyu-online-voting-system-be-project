{"version":3,"sources":["webpack:///./node_modules/vuetify/lib/mixins/transitionable.js","webpack:///./node_modules/vuetify/lib/components/VAlert/VAlert.js","webpack:///./src/components/ChangePassword.vue?9e4e","webpack:///src/components/ChangePassword.vue","webpack:///./src/components/ChangePassword.vue?8bd8","webpack:///./src/components/ChangePassword.vue"],"names":["transitionable","vue_runtime_esm","extend","name","props","mode","String","origin","transition","__webpack_exports__","Object","mixins","colorable","toggleable","dismissible","Boolean","icon","outline","type","validator","val","includes","computed","computedColor","this","color","computedIcon","methods","genIcon","$createElement","VIcon","class","genDismissible","_this","on","click","isActive","right","render","h","children","$slots","default","setColor","setTextColor","setBackgroundColor","alert","staticClass","v-alert--outline","directives","value","$listeners","_vm","_h","_c","_self","attrs","fill-height","justify-center","align-center","xs6","_v","showAlert","label","model","info","callback","$$v","$set","expression","round","changePassword","staticRenderFns","ChangePasswordvue_type_script_lang_js_","data","currentPassword","newPassword","objectSpread","vuex_esm","loginUserAndRedirect","loginUser","then","_ref","status","Error","updateStoreUser","user","role","userRoles","VOTER","$router","push","ADMIN","CANDIDATE","post","catch","error","_this2","userPasswordReset","id","password","_ref2","components_ChangePasswordvue_type_script_lang_js_","component","componentNormalizer","installComponents_default","VAlert","VBtn","VCard","VCardTitle","VContainer","VFlex","VForm","VLayout","VTextField"],"mappings":"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","file":"js/chunk-17cc1c80.b20878c1.js","sourcesContent":["import Vue from 'vue';\nexport default Vue.extend({\n    name: 'transitionable',\n    props: {\n        mode: String,\n        origin: String,\n        transition: String\n    }\n});\n//# sourceMappingURL=transitionable.js.map","// Styles\nimport '../../../src/stylus/components/_alerts.styl';\n// Components\nimport VIcon from '../VIcon';\n// Mixins\nimport Colorable from '../../mixins/colorable';\nimport Toggleable from '../../mixins/toggleable';\nimport Transitionable from '../../mixins/transitionable';\nimport mixins from '../../util/mixins';\n/* @vue/component */\nexport default mixins(Colorable, Toggleable, Transitionable).extend({\n    name: 'v-alert',\n    props: {\n        dismissible: Boolean,\n        icon: String,\n        outline: Boolean,\n        type: {\n            type: String,\n            validator: function validator(val) {\n                return ['info', 'error', 'success', 'warning'].includes(val);\n            }\n        }\n    },\n    computed: {\n        computedColor: function computedColor() {\n            return this.type && !this.color ? this.type : this.color || 'error';\n        },\n        computedIcon: function computedIcon() {\n            if (this.icon || !this.type) return this.icon;\n            switch (this.type) {\n                case 'info':\n                    return '$vuetify.icons.info';\n                case 'error':\n                    return '$vuetify.icons.error';\n                case 'success':\n                    return '$vuetify.icons.success';\n                case 'warning':\n                    return '$vuetify.icons.warning';\n            }\n        }\n    },\n    methods: {\n        genIcon: function genIcon() {\n            if (!this.computedIcon) return null;\n            return this.$createElement(VIcon, {\n                'class': 'v-alert__icon'\n            }, this.computedIcon);\n        },\n        genDismissible: function genDismissible() {\n            var _this = this;\n\n            if (!this.dismissible) return null;\n            return this.$createElement('a', {\n                'class': 'v-alert__dismissible',\n                on: { click: function click() {\n                        _this.isActive = false;\n                    } }\n            }, [this.$createElement(VIcon, {\n                props: {\n                    right: true\n                }\n            }, '$vuetify.icons.cancel')]);\n        }\n    },\n    render: function render(h) {\n        var children = [this.genIcon(), h('div', this.$slots.default), this.genDismissible()];\n        var setColor = this.outline ? this.setTextColor : this.setBackgroundColor;\n        var alert = h('div', setColor(this.computedColor, {\n            staticClass: 'v-alert',\n            'class': {\n                'v-alert--outline': this.outline\n            },\n            directives: [{\n                name: 'show',\n                value: this.isActive\n            }],\n            on: this.$listeners\n        }), children);\n        if (!this.transition) return alert;\n        return h('transition', {\n            props: {\n                name: this.transition,\n                origin: this.origin,\n                mode: this.mode\n            }\n        }, [alert]);\n    }\n});\n//# sourceMappingURL=VAlert.js.map","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"justify-center\":\"\",\"fill-height\":\"\",\"align-center\":\"\"}},[_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('v-card',[_c('v-card-title',[_c('v-flex',[_c('h3',{staticClass:\"display-1 font-weight-thin text-lg-center\"},[_vm._v(\"Change password\")])])],1),_c('v-form',[_c('v-container',[_c('v-alert',{staticClass:\"mb-3\",attrs:{\"value\":_vm.showAlert,\"transition\":\"scale-transition\",\"type\":\"error\"}},[_vm._v(\"Invalid user\")]),_c('v-text-field',{attrs:{\"label\":\"Current Password\",\"type\":\"password\",\"outline\":\"\"},model:{value:(_vm.info.currentPassword),callback:function ($$v) {_vm.$set(_vm.info, \"currentPassword\", $$v)},expression:\"info.currentPassword\"}}),_c('v-text-field',{attrs:{\"label\":\"New Password\",\"type\":\"password\",\"outline\":\"\"},model:{value:(_vm.info.newPassword),callback:function ($$v) {_vm.$set(_vm.info, \"newPassword\", $$v)},expression:\"info.newPassword\"}}),_c('v-layout',{attrs:{\"justify-center\":\"\"}},[_c('div',[_c('v-btn',{staticClass:\"my-0\",attrs:{\"color\":\"primary\",\"round\":\"\",\"outline\":\"\"},on:{\"click\":_vm.changePassword}},[_vm._v(\"CHANGE PASSWORD\")])],1)])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fill-height>\n    <v-layout justify-center fill-height align-center>\n      <v-flex xs6>\n        <v-card>\n          <v-card-title>\n            <v-flex>\n              <h3 class=\"display-1 font-weight-thin text-lg-center\">Change password</h3>\n            </v-flex>\n          </v-card-title>\n          <v-form>\n            <v-container>\n              <v-alert\n                :value=\"showAlert\"\n                transition=\"scale-transition\"\n                type=\"error\"\n                class=\"mb-3\"\n              >Invalid user</v-alert>\n              <v-text-field\n                label=\"Current Password\"\n                type=\"password\"\n                v-model=\"info.currentPassword\"\n                outline\n              />\n              <v-text-field label=\"New Password\" type=\"password\" v-model=\"info.newPassword\" outline/>\n              <v-layout justify-center>\n                <div>\n                  <v-btn color=\"primary\" @click=\"changePassword\" round outline class=\"my-0\">CHANGE PASSWORD</v-btn>\n                </div>\n              </v-layout>\n            </v-container>\n          </v-form>\n        </v-card>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n\n<script>\nimport { mapState, mapActions, mapMutations } from \"vuex\";\nexport default {\n  data() {\n    return {\n      info: {\n        currentPassword: \"\",\n        newPassword: \"\"\n      },\n      showAlert: false\n    };\n  },\n  computed: {\n    ...mapState([\"userRoles\", \"user\"])\n  },\n  methods: {\n    loginUserAndRedirect() {\n      this.loginUser(this.info)\n        .then(({ data, status }) => {\n          if (status == 200) {\n            this.updateStoreUser(data);\n            switch (this.user.role) {\n              case this.userRoles.VOTER:\n                this.$router.push({ name: \"party\" });\n                break;\n              case this.userRoles.ADMIN:\n                this.$router.push({ name: \"admin\" });\n                break;\n              case this.userRoles.CANDIDATE:\n                if (user.post == \"CHIARMAN\")\n                  this.$router.push({ name: \"chairman\" });\n                else this.$router.push({ name: \"party\" });\n                break;\n              default: // stay on this page\n            }\n          } else throw Error(\"Invalid user\");\n        })\n        .catch(error => {\n          this.showAlert = true;\n        });\n    },\n    changePassword() {\n      this.userPasswordReset({\n        id: this.user.id,\n        password: this.info.currentPassword,\n        newPassword: this.info.newPassword\n      }).then(({ data, status }) => {\n        if (status == 200) {\n          this.$router.push({ name: \"create-party\" });\n        } else {\n          showAlert = true;\n        }\n      });\n    },\n    ...mapActions([\"loginUser\", \"userPasswordReset\"]),\n    ...mapMutations([\"updateStoreUser\"])\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangePassword.vue?vue&type=template&id=01408abb&\"\nimport script from \"./ChangePassword.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangePassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/home/edache/workspace/projects/online-voting-system-ui/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib'\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VForm } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\ninstallComponents(component, {VAlert,VBtn,VCard,VCardTitle,VContainer,VFlex,VForm,VLayout,VTextField})\n"],"sourceRoot":""}